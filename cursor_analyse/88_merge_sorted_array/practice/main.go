package main

import (
	"fmt"
	"strings"
)

/*
é¢˜ç›®ï¼šåˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„
éš¾åº¦ï¼šç®€å•
æ ‡ç­¾ï¼šæ•°ç»„ã€åŒæŒ‡é’ˆã€æ’åº

é¢˜ç›®æè¿°ï¼š
ç»™ä½ ä¸¤ä¸ªæŒ‰éé€’å‡é¡ºåºæ’åˆ—çš„æ•´æ•°æ•°ç»„ nums1 å’Œ nums2ï¼Œå¦æœ‰ä¸¤ä¸ªæ•´æ•° m å’Œ nï¼Œåˆ†åˆ«è¡¨ç¤º nums1 å’Œ nums2 ä¸­çš„å…ƒç´ æ•°ç›®ã€‚
è¯·ä½ åˆå¹¶ nums2 åˆ° nums1 ä¸­ï¼Œä½¿åˆå¹¶åçš„æ•°ç»„åŒæ ·æŒ‰éé€’å‡é¡ºåºæ’åˆ—ã€‚

æ³¨æ„ï¼šæœ€ç»ˆï¼Œåˆå¹¶åæ•°ç»„ä¸åº”ç”±å‡½æ•°è¿”å›ï¼Œè€Œæ˜¯å­˜å‚¨åœ¨æ•°ç»„ nums1 ä¸­ã€‚ä¸ºäº†åº”å¯¹è¿™ç§æƒ…å†µï¼Œnums1 çš„åˆå§‹é•¿åº¦ä¸º m + nï¼Œå…¶ä¸­å‰ m ä¸ªå…ƒç´ è¡¨ç¤ºåº”åˆå¹¶çš„å…ƒç´ ï¼Œå n ä¸ªå…ƒç´ ä¸º 0ï¼Œåº”å¿½ç•¥ã€‚nums2 çš„é•¿åº¦ä¸º nã€‚

è¦æ±‚ï¼š
- æ—¶é—´å¤æ‚åº¦ï¼šO(m + n)
- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

ç¤ºä¾‹ï¼š
è¾“å…¥ï¼šnums1 = [1,2,3,0,0,0], m = 3, nums2 = [2,5,6], n = 3
è¾“å‡ºï¼š[1,2,2,3,5,6]
è§£é‡Šï¼šéœ€è¦åˆå¹¶ [1,2,3] å’Œ [2,5,6]ã€‚
åˆå¹¶ç»“æœæ˜¯ [1,2,2,3,5,6]ï¼Œå…¶ä¸­æ–œä½“åŠ ç²—æ ‡æ³¨çš„ä¸º nums1 ä¸­çš„å…ƒç´ ã€‚

è¾“å…¥ï¼šnums1 = [1], m = 1, nums2 = [], n = 0
è¾“å‡ºï¼š[1]
è§£é‡Šï¼šéœ€è¦åˆå¹¶ [1] å’Œ []ã€‚
åˆå¹¶ç»“æœæ˜¯ [1]ã€‚

è¾“å…¥ï¼šnums1 = [0], m = 0, nums2 = [1], n = 1
è¾“å‡ºï¼š[1]
è§£é‡Šï¼šéœ€è¦åˆå¹¶ [] å’Œ [1]ã€‚
åˆå¹¶ç»“æœæ˜¯ [1]ã€‚

æç¤ºï¼š
1. åˆ©ç”¨nums1æœ«å°¾æœ‰è¶³å¤Ÿçš„ç©ºé—´æ¥å­˜å‚¨åˆå¹¶ç»“æœ
2. ä»åå¾€å‰åˆå¹¶å¯ä»¥é¿å…è¦†ç›–nums1ä¸­çš„æœ‰æ•ˆå…ƒç´ 
3. ä½¿ç”¨åŒæŒ‡é’ˆæŠ€æœ¯ï¼Œä¸€ä¸ªæŒ‡å‘nums1çš„æœ‰æ•ˆå…ƒç´ ï¼Œä¸€ä¸ªæŒ‡å‘nums2
4. æ³¨æ„è¾¹ç•Œæ¡ä»¶çš„å¤„ç†ï¼ˆç©ºæ•°ç»„ã€å•ä¸ªå…ƒç´ ç­‰ï¼‰
5. åˆå¹¶å®Œæˆåï¼Œnums1å°±æ˜¯æœ€ç»ˆç»“æœï¼Œä¸éœ€è¦è¿”å›å€¼
*/

// TODO: åœ¨è¿™é‡Œå®ç°ä½ çš„ç®—æ³•
func merge(nums1 []int, m int, nums2 []int, n int) {
	// è¯·å®ç°ä½ çš„ä»£ç 
	// æ³¨æ„ï¼šç›´æ¥ä¿®æ”¹nums1ï¼Œä¸éœ€è¦è¿”å›å€¼
}

// æµ‹è¯•ç”¨ä¾‹ç»“æ„
type TestCase struct {
	nums1  []int
	m      int
	nums2  []int
	n      int
	expect []int
}

func main() {
	// æµ‹è¯•ç”¨ä¾‹
	testCases := []TestCase{
		// åŸºæœ¬æµ‹è¯•ç”¨ä¾‹
		{
			[]int{1, 2, 3, 0, 0, 0}, 3,
			[]int{2, 5, 6}, 3,
			[]int{1, 2, 2, 3, 5, 6},
		},
		{
			[]int{1}, 1,
			[]int{}, 0,
			[]int{1},
		},
		{
			[]int{0}, 0,
			[]int{1}, 1,
			[]int{1},
		},

		// è¾¹ç•Œæµ‹è¯•ç”¨ä¾‹
		{
			[]int{4, 5, 6, 0, 0, 0}, 3,
			[]int{1, 2, 3}, 3,
			[]int{1, 2, 3, 4, 5, 6},
		},
		{
			[]int{1, 3, 5, 0, 0}, 3,
			[]int{2, 4}, 2,
			[]int{1, 2, 3, 4, 5},
		},
		{
			[]int{0, 0, 0}, 0,
			[]int{1, 2, 3}, 3,
			[]int{1, 2, 3},
		},

		// ç‰¹æ®Šæƒ…å†µæµ‹è¯•ç”¨ä¾‹
		{
			[]int{1, 2, 3, 4, 5, 0, 0, 0}, 5,
			[]int{6, 7, 8}, 3,
			[]int{1, 2, 3, 4, 5, 6, 7, 8},
		},
		{
			[]int{6, 7, 8, 0, 0, 0}, 3,
			[]int{1, 2, 3}, 3,
			[]int{1, 2, 3, 6, 7, 8},
		},
		{
			[]int{1, 1, 1, 0, 0}, 3,
			[]int{1, 1}, 2,
			[]int{1, 1, 1, 1, 1},
		},
	}

	fmt.Println("å¼€å§‹æµ‹è¯•åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„...")
	fmt.Println(strings.Repeat("=", 50))

	passed := 0
	total := len(testCases)

	for i, tc := range testCases {
		fmt.Printf("\næµ‹è¯•ç”¨ä¾‹ %d:\n", i+1)
		fmt.Printf("è¾“å…¥: nums1=%v, m=%d, nums2=%v, n=%d\n", tc.nums1, tc.m, tc.nums2, tc.n)

		// åˆ›å»ºnums1çš„å‰¯æœ¬ï¼Œé¿å…ä¿®æ”¹åŸæ•°æ®
		nums1 := make([]int, len(tc.nums1))
		copy(nums1, tc.nums1)

		// è°ƒç”¨åˆå¹¶å‡½æ•°
		merge(nums1, tc.m, tc.nums2, tc.n)

		fmt.Printf("è¾“å‡º: %v\n", nums1)
		fmt.Printf("æœŸæœ›: %v\n", tc.expect)

		// æ£€æŸ¥ç»“æœ
		if compareSlices(nums1, tc.expect) {
			fmt.Printf("âœ… é€šè¿‡\n")
			passed++
		} else {
			fmt.Printf("âŒ å¤±è´¥\n")
		}
	}

	fmt.Println("\n" + strings.Repeat("=", 50))
	fmt.Printf("æµ‹è¯•ç»“æœ: %d/%d é€šè¿‡\n", passed, total)

	if passed == total {
		fmt.Println("ğŸ‰ æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹éƒ½é€šè¿‡äº†ï¼")
		fmt.Println("\nğŸ’¡ æç¤ºï¼š")
		fmt.Println("- ä»åå¾€å‰åˆå¹¶æ˜¯æœ€ä¼˜è§£ï¼Œé¿å…è¦†ç›–nums1ä¸­çš„æœ‰æ•ˆå…ƒç´ ")
		fmt.Println("- åˆ©ç”¨nums1æœ«å°¾çš„ç©ºé—´æ¥å­˜å‚¨åˆå¹¶ç»“æœ")
		fmt.Println("- æ³¨æ„è¾¹ç•Œæ¡ä»¶çš„å¤„ç†")
		fmt.Println("- æ—¶é—´å¤æ‚åº¦O(m+n)ï¼Œç©ºé—´å¤æ‚åº¦O(1)")
	} else {
		fmt.Println("ğŸ’¡ è¿˜æœ‰ä¸€äº›æµ‹è¯•ç”¨ä¾‹æ²¡æœ‰é€šè¿‡ï¼Œè¯·æ£€æŸ¥ä½ çš„å®ç°ã€‚")
	}
}

// æ¯”è¾ƒä¸¤ä¸ªåˆ‡ç‰‡æ˜¯å¦ç›¸ç­‰
func compareSlices(a, b []int) bool {
	if len(a) != len(b) {
		return false
	}
	for i := range a {
		if a[i] != b[i] {
			return false
		}
	}
	return true
}

/*
é¢„æœŸè¾“å‡ºï¼š
å¼€å§‹æµ‹è¯•åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„...
==================================================

æµ‹è¯•ç”¨ä¾‹ 1:
è¾“å…¥: nums1=[1 2 3 0 0 0], m=3, nums2=[2 5 6], n=3
è¾“å‡º: [1 2 2 3 5 6]
æœŸæœ›: [1 2 2 3 5 6]
âœ… é€šè¿‡

æµ‹è¯•ç”¨ä¾‹ 2:
è¾“å…¥: nums1=[1], m=1, nums2=[], n=0
è¾“å‡º: [1]
æœŸæœ›: [1]
âœ… é€šè¿‡

æµ‹è¯•ç”¨ä¾‹ 3:
è¾“å…¥: nums1=[0], m=0, nums2=[1], n=1
è¾“å‡º: [1]
æœŸæœ›: [1]
âœ… é€šè¿‡

æµ‹è¯•ç”¨ä¾‹ 4:
è¾“å…¥: nums1=[4 5 6 0 0 0], m=3, nums2=[1 2 3], n=3
è¾“å‡º: [1 2 3 4 5 6]
æœŸæœ›: [1 2 3 4 5 6]
âœ… é€šè¿‡

æµ‹è¯•ç”¨ä¾‹ 5:
è¾“å…¥: nums1=[1 3 5 0 0], m=3, nums2=[2 4], n=2
è¾“å‡º: [1 2 3 4 5]
æœŸæœ›: [1 2 3 4 5]
âœ… é€šè¿‡

æµ‹è¯•ç”¨ä¾‹ 6:
è¾“å…¥: nums1=[0 0 0], m=0, nums2=[1 2 3], n=3
è¾“å‡º: [1 2 3]
æœŸæœ›: [1 2 3]
âœ… é€šè¿‡

æµ‹è¯•ç”¨ä¾‹ 7:
è¾“å…¥: nums1=[1 2 3 4 5 0 0 0], m=5, nums2=[6 7 8], n=3
è¾“å‡º: [1 2 3 4 5 6 7 8]
æœŸæœ›: [1 2 3 4 5 6 7 8]
âœ… é€šè¿‡

æµ‹è¯•ç”¨ä¾‹ 8:
è¾“å…¥: nums1=[6 7 8 0 0 0], m=3, nums2=[1 2 3], n=3
è¾“å‡º: [1 2 3 6 7 8]
æœŸæœ›: [1 2 3 6 7 8]
âœ… é€šè¿‡

æµ‹è¯•ç”¨ä¾‹ 9:
è¾“å…¥: nums1=[1 1 1 0 0], m=3, nums2=[1 1], n=2
è¾“å‡º: [1 1 1 1 1]
æœŸæœ›: [1 1 1 1 1]
âœ… é€šè¿‡

==================================================
æµ‹è¯•ç»“æœ: 9/9 é€šè¿‡
ğŸ‰ æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹éƒ½é€šè¿‡äº†ï¼

ğŸ’¡ æç¤ºï¼š
- ä»åå¾€å‰åˆå¹¶æ˜¯æœ€ä¼˜è§£ï¼Œé¿å…è¦†ç›–nums1ä¸­çš„æœ‰æ•ˆå…ƒç´ 
- åˆ©ç”¨nums1æœ«å°¾çš„ç©ºé—´æ¥å­˜å‚¨åˆå¹¶ç»“æœ
- æ³¨æ„è¾¹ç•Œæ¡ä»¶çš„å¤„ç†
- æ—¶é—´å¤æ‚åº¦O(m+n)ï¼Œç©ºé—´å¤æ‚åº¦O(1)
*/
