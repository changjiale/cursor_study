# Go语言面试大纲

## 1. 并发编程 (Concurrency)

### 1.1 Goroutine
- **基础概念**：轻量级线程、调度模型
- **数据结构**：G、M、P结构体定义和字段含义
- **调度器**：GMP调度模型、工作窃取算法
- **P队列结构**：本地队列(runq)、全局队列(sched.runq)、运行中的G(runnext)
- **调度策略**：优先级策略、负载均衡策略、性能优化策略
- **面试题目**：
  - Goroutine vs 线程的区别
  - P的本地队列和全局队列有什么区别
  - 调度器如何选择下一个要运行的Goroutine
  - 工作窃取算法是如何实现的
  - Goroutine泄漏问题
  - 如何控制Goroutine数量

### 1.2 Channel
- **数据结构**：hchan结构体定义和字段含义
- **操作机制**：发送、接收、关闭的底层实现
- **缓冲机制**：有缓冲vs无缓冲channel
- **面试题目**：
  - Channel的底层实现原理
  - Channel的阻塞机制
  - 如何优雅关闭channel

### 1.3 Select
- **实现原理**：select语句的底层实现
- **随机性**：为什么select是随机的
- **面试题目**：
  - Select的底层实现
  - Select vs switch的区别

### 1.4 Context
- **数据结构**：Context接口和实现结构体
- **核心方法**：WithCancel、WithTimeout、WithValue
- **取消机制**：context tree的取消传播
- **面试题目**：
  - Context的作用和使用场景
  - Context的取消机制
  - Context vs channel的选择

### 1.5 Sync包
- **Mutex**：互斥锁的实现原理
- **RWMutex**：读写锁的实现
- **WaitGroup**：等待组的实现
- **Cond**：条件变量的使用
- **面试题目**：
  - 锁的实现原理
  - 死锁的预防和检测
  - 读写锁的应用场景

## 2. 内存管理

### 2.1 内存分配
- **分配器**：mcache、mcentral、mheap
- **对象分类**：tiny、small、large对象
- **面试题目**：
  - Go内存分配策略
  - 内存碎片问题
  - 逃逸分析

### 2.2 垃圾回收
- **GC算法**：三色标记法
- **GC触发**：触发条件和时机
- **GC调优**：GC参数调优
- **面试题目**：
  - Go GC的工作原理
  - GC性能优化
  - GC vs 手动内存管理

## 3. 运行时系统

### 3.1 调度器
- **GMP模型**：Goroutine、Machine、Processor
- **P队列结构**：本地队列、全局队列、runnext字段
- **调度策略**：优先级策略、负载均衡策略、性能优化策略
- **工作窃取**：窃取算法、负载均衡、性能优化
- **调度策略**：抢占式调度、协作式调度
- **面试题目**：
  - Go调度器的工作原理
  - P的队列结构设计思想
  - 工作窃取算法的优势
  - 调度器的性能优化

### 3.2 网络轮询器
- **epoll/kqueue**：网络IO的实现
- **面试题目**：
  - Go网络IO的实现原理
  - 高并发网络编程

## 4. 标准库

### 4.1 常用包
- **time包**：时间处理和时间轮
- **net包**：网络编程
- **encoding包**：序列化
- **面试题目**：
  - 标准库的设计思想
  - 常用包的使用技巧

## 5. 语言特性

### 5.1 接口
- **接口实现**：接口的底层实现
- **空接口**：interface{}的实现
- **面试题目**：
  - 接口的设计思想
  - 接口vs抽象类

### 5.2 反射
- **反射原理**：reflect包的实现
- **性能影响**：反射的性能开销
- **面试题目**：
  - 反射的使用场景
  - 反射的性能优化

### 5.3 泛型
- **泛型实现**：Go 1.18+的泛型机制
- **类型约束**：类型约束的使用
- **面试题目**：
  - 泛型的应用场景
  - 泛型vs接口

## 6. 性能优化

### 6.1 性能分析
- **pprof**：性能分析工具
- **benchmark**：基准测试
- **面试题目**：
  - 性能分析的方法
  - 性能优化的技巧

### 6.2 并发优化
- **并发模式**：常见的并发模式
- **性能调优**：并发程序的优化
- **面试题目**：
  - 高并发系统的设计
  - 性能瓶颈的识别

## 7. 工程实践

### 7.1 项目结构
- **目录结构**：Go项目的标准结构
- **模块管理**：go modules的使用
- **面试题目**：
  - 大型项目的组织方式
  - 依赖管理的最佳实践

### 7.2 测试
- **单元测试**：testing包的使用
- **集成测试**：测试策略
- **面试题目**：
  - 测试覆盖率的重要性
  - 测试驱动开发

## 学习优先级
1. **高优先级**：并发编程、内存管理、运行时系统
2. **中优先级**：标准库、语言特性
3. **低优先级**：性能优化、工程实践

## 面试准备建议
- 重点掌握核心概念的设计思想
- 准备实际应用场景的案例
- 理解性能优化的关键点
- 能够解释常见问题的解决方案 